<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Módulos - tech-script</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='CSS/estudiante/modulos.css') }}">
  <link rel="icon" type="image/png" href="{{ url_for('static', filename='img/logof.png') }}"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <script src="https://js.braintreegateway.com/web/dropin/1.43.0/js/dropin.min.js"></script>
</head>
<body>
  <div class="layout">
    
    <!-- ========== SIDEBAR ========== -->
    <aside class="sidebar" id="sidebar">
      <button id="toggleSidebar" class="toggle-btn">☰</button>

      <div class="logo">
        <div class="logo-content">
          <img src="{{ url_for('static', filename='img/logo.png') }}" alt="Logo">
          <h2>Tech-script</h2>
        </div>
      </div>

      <nav>
        <a href="{{ url_for('home') }}" class="nav-item">
          <i class="fas fa-chart-line icon"></i>
          <span class="text">Inicio</span>
        </a>
        <a href="{{ url_for('estudiante.diplomados') }}" class="nav-item active">
          <i class="fas fa-book icon"></i>
          <span class="text">Diplomados</span>
        </a>
        <a href="{{ url_for('pagos') }}" class="nav-item">
          <i class="fas fa-credit-card icon"></i>
          <span class="text">Pagos</span>
        </a>
        <a href="{{ url_for('certificados') }}" class="nav-item">
          <i class="fas fa-certificate icon"></i>
          <span class="text">Certificados</span>
        </a>
      </nav>

      <div class="sidebar-footer">
        <div class="user-card">
          <div class="user">
            <img src="https://i.pravatar.cc/40" alt="foto de perfil" class="user-avatar">
            <div class="user-info">
              <span class="name">{{ user.nombre }}</span>
              <span class="email">{{ user.correo }}</span>
            </div>
          </div>
        </div>
      </div>
    </aside>

    <!-- ========== MAIN ========== -->
    <main class="main">
      <!-- TOPBAR -->
      <div class="topbar">
        <button id="toggleSidebarTop" class="toggle-btn">☰</button>
                
        <div class="search-container">
          <i class="fas fa-search search-icon"></i>
          <input type="text" placeholder="¿Qué quieres aprender?">
        </div>
                
        <div class="topbar-right">
          <div class="notification-icon">
            <i class="fas fa-bell"></i>
            <span class="notification-badge">3</span>
          </div>
                    
          <div class="profile-dropdown">
            <div class="profile-pic" id="profile">
              <img src="https://i.pravatar.cc/40" alt="Usuario">
            </div>
          </div>
        </div>
      </div>

      <!-- COURSE HEADER -->
      <div class="course-header">
        <div class="course-avatar">
          <div class="avatar-circle">
            <span class="play-icon">▶</span>
          </div>
        </div>
                
        <div class="course-info">
          <h1 id="course-title">Cargando...</h1>
          <div class="rating">
            <span class="stars">⭐⭐⭐⭐⭐</span>
            <span class="rating-score" id="rating-score">4.7</span>
            <span class="opinions" id="opinions">380 opiniones ›</span>
          </div>
          <div class="publish-date" id="publish-date">Publicado recientemente</div>
                    
          <div class="course-stats">
            <span class="stat"><i class="fas fa-signal text-purple"></i> <span id="level">Cargando...</span></span>
            <span class="stat"><i class="fas fa-video text-red"></i> <span id="classes">-- clases</span></span>
            <span class="stat"><i class="fas fa-clock text-blue"></i> <span id="duration">-- horas</span></span>
          </div>
                    
          <p class="course-description" id="course-description">
            Cargando descripción del diplomado...
          </p>
        </div>

        <div class="course-card">
          <div class="instructor-video">
            <div class="video-background">
              <img src="https://picsum.photos/400/250?random=3" alt=""> 
            </div>
            <div class="play-overlay"><i class="fas fa-play-circle"></i></div>
            <div class="course-badge">
              <div class="course-title">
                Diplomado de<br>
                <strong id="badge-title">Tech-script</strong>
              </div>
            </div> 
          </div>
         
          <button class="btn btn-success start-course-btn" id="start-course-btn">
            <i class="fas fa-play"></i> Empezar Curso
          </button>
          
          <button class="btn btn-success buy-course-btn" style="display: none;">
            <i class="fas fa-shopping-cart"></i> Comprar Diplomado
          </button>
        </div>
      </div>

      <!-- COURSE CONTENT -->
      <div class="course-content">
        <h2><i class="fas fa-list-ul"></i> Módulos del diplomado</h2>
        
        <!-- Los módulos se cargarán dinámicamente aquí -->
        <div style="text-align: center; padding: 3rem;">
          <i class="fas fa-spinner fa-spin" style="font-size: 3rem; color: #6366f1;"></i>
          <p style="color: #64748b; margin-top: 1rem;">Cargando contenido...</p>
        </div>
      </div>
    </main>
  </div>

  <script src="{{ url_for('static', filename='JS/estudiante/modulos.js') }}"></script>
</body></html>